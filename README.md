```
 ╔═╗ ╔═╗ ╔╦╗      ╔╦╗ ╔═╗ ╦   ╦ ╦ ╔═╗ ╦═╗ ╔═╗      ╔═╗ ╦   ╔═╗ ╔═╗ ╔═╗ ╦ ╔═╗ ╦ ╔═╗ ╔═╗ ╔╦╗ ╦ ╔═╗ ╔╗╔
 ╠═╣ ╠═╝  ║       ║║║ ╠═╣ ║   ║║║ ╠═╣ ╠╦╝ ║╣       ║   ║   ╠═╣ ╚═╗ ╚═╗ ║ ╠╣  ║ ║   ╠═╣  ║  ║ ║ ║ ║║║
 ╩ ╩ ╩    ╩       ╩ ╩ ╩ ╩ ╩═╝ ╚╩╝ ╩ ╩ ╩╚═ ╚═╝      ╚═╝ ╩═╝ ╩ ╩ ╚═╝ ╚═╝ ╩ ╚   ╩ ╚═╝ ╩ ╩  ╩  ╩ ╚═╝ ╝╚╝
```

# 前言

利用 [tf-idf](https://zh.m.wikipedia.org/zh-cn/Tf-idf) 和 xgboost 等技术对恶意样本的 API 调用序列进行数据分析，形成机器学习模型，达到自动判定恶意样本所属 APT 组织的目的。

# 数据集

全部数据集都在 Cuckoo Report.zip 里面，以各 APT 组织分类，各 APT 组织的分析报告从 [VirusTotal](https://www.virustotal.com) 获取。由于  VirusTotal api 有限制，所以考虑我的另外一个项目 [基于sha256使用selenium爬取Virustotal获得文件类型与行为特征文件](https://github.com/yym68686/VirusTotalSpider) 。

# 项目目录说明

```
APT_MALWARE_CLASSIFICATION
│  All_Windows_API.json   # 所有 windows api
│  Cuckoo Report.zip      # 所有从 VirusTotal 爬取的行为特征文件
│  feature_engineering.py # 将行为特征文件转化为 pkl 文件
│  overview.csv           # 恶意样本对应的 sha256
│  README.md
│  test.py
│  xgboost_model.py       # 训练程序
│
└─API Sequence            # 所有 pkl 文件
```

# 训练准备

将数据集转化为 pkl 文件。

```bash
python feature_engineering.py
```
